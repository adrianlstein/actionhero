<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Upgrade Path | actionhero</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="../../assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="../../assets/js/search.js" data-base="../..">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="../../index.html" class="title">actionhero</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-externals" checked />
							<label class="tsd-widget" for="tsd-filter-externals">Externals</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
			</ul>
			<h1> Upgrade Path</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<p><img src="documentation.svg" alt=""></p>
				<a href="#overview" id="overview" style="color: inherit; text-decoration: none;">
					<h2>Overview</h2>
				</a>
				<p>Upgrading big ActionHero projects to a new major might require some effort. Every ActionHero version has it&#39;s own specific project files which you generate using <code>actionhero generate</code> command.</p>
				<p>One of the ways to upgrade your project is to generate a new project using the latest ActionHero framework (<code>npm install actionhero &amp;&amp; npx actionhero generate</code>). Using that as your starting point you can then carefully copy all your <code>configs</code>, <code>initializers</code>, <code>servers</code>, <code>tasks</code>, <code>actions</code>, and other custom code from your old project, making sure that you are at the same working state as before. It&#39;s a good practice to make tests for your actions (or any other component) before you plan to upgrade your ActionHero project.</p>
				<p>With good <a href="tutorial-testing.html">test coverage</a> you can make sure that you have successfully upgraded your project.</p>
				<p>ActionHero follows <a href="http://semver.org/">semantic versioning</a>. This means that a minor change is a right-most number. A new feature added is the middle number, and a breaking change is the left number. You should expect something in your application to need to be changed if you upgrade a major version.</p>
				<a href="#upgrading-from-v18-to-v19" id="upgrading-from-v18-to-v19" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v18 to v19</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v19.0.0">GitHub</a></strong></p>
				<a href="#configuration" id="configuration" style="color: inherit; text-decoration: none;">
					<h3>Configuration</h3>
				</a>
				<ul>
					<li>in <code>config/tasks.js</code> <code>add api.config.tasks.stuckWorkerTimeout = 3600000</code>.  This will be a 1 hour timeout for stuck/crashed worker processes</li>
					<li>in <code>config/servers/websocket.js</code> <code>add api.config.servers.websocket.client.cookieKey = api.config.servers.web.fingerprintOptions.cookieKey</code>.  This will instruct the ActionHero Websocket Clients to share the same cookie as the web server to share a fingerprint, which can be used to share session information.</li>
					<li>If you plan to use Jest for your tests, and want to test in parallel, you will need to configure your server in the test environment to make use of <code>process.env.JEST_WORKER_ID</code>.  Please view <a href="https://github.com/actionhero/actionhero/blob/master/config/api.js"><code>config/api.js</code></a>, <a href="https://github.com/actionhero/actionhero/blob/master/config/redis.js"><code>config/redis.js</code></a>, <a href="https://github.com/actionhero/actionhero/blob/master/config/servers/socket.js"><code>config/servers/socket.js</code></a>, and <a href="https://github.com/actionhero/actionhero/blob/master/config/servers/web.js"><code>config/servers/web.js</code></a> for more information</li>
				</ul>
				<a href="#upgrading-from-v19-to-v20" id="upgrading-from-v19-to-v20" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v19 to v20</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v20.0.0">GitHub</a></strong></p>
				<ul>
					<li>In <code>config/api.js</code> add <code>api.config.general.paths.test = [path.join(__dirname, &#39;/../__tests__&#39;)]</code> so that when you generate a new action or task, the related test file can be generated as well.</li>
					<li>However you run actionhero, be sure to <code>cd</code> into the root directory of the project before starting the server.</li>
				</ul>
				<a href="#upgrading-from-v19-to-v20-1" id="upgrading-from-v19-to-v20-1" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v19 to v20</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v19.0.0">GitHub</a></strong></p>
				<ul>
					<li>in <code>config/tasks.js</code> <code>add api.config.tasks.stuckWorkerTimeout = 3600000</code>.  This will be a 1 hour timeout for stuck/crashed worker processes</li>
					<li>in <code>config/servers/websocket.js</code> <code>add api.config.servers.websocket.client.cookieKey = api.config.servers.web.fingerprintOptions.cookieKey</code>.  This will instruct the ActionHero Websocket Clients to share the same cookie as the web server to share a fingerprint, which can be used to share session information.</li>
					<li>If you plan to use Jest for your tests, and want to test in parallel, you will need to configure your server in the test environment to make use of <code>process.env.JEST_WORKER_ID</code>.  Please view <a href="https://github.com/actionhero/actionhero/blob/master/config/api.js"><code>config/api.js</code></a>, <a href="https://github.com/actionhero/actionhero/blob/master/config/redis.js"><code>config/redis.js</code></a>, <a href="https://github.com/actionhero/actionhero/blob/master/config/servers/socket.js"><code>config/servers/socket.js</code></a>, and <a href="https://github.com/actionhero/actionhero/blob/master/config/servers/web.js"><code>config/servers/web.js</code></a> for more information</li>
				</ul>
				<a href="#upgrading-from-v17-to-v18" id="upgrading-from-v17-to-v18" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v17 to v18</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v18.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<p>There are <em>many</em> changes to the APIs actionhero exposes.  You can read up on the new syntax on our <a href="https://docs.actionherojs.com">new documentation website, docs.actionherojs.com</a></p>
				<ul>
					<li><p><strong>Node.js version</strong></p>
						<ul>
							<li>Node.js v8 and higher is now required.  You must update your projects.</li>
						</ul>
					</li>
					<li><p><strong>Actions</strong></p>
						<ul>
							<li>Actions are now ES6 classes, which extend <code>require(&#39;actionhero&#39;).Action</code>.</li>
							<li>The <code>run</code> method only has one argument now, <code>data</code> and becomes a <code>async</code> method.  <code>api</code> can be required globally to your file.</li>
						</ul>
					</li>
				</ul>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> {Action, api} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'actionhero'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyAction</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Action</span> </span>{
 <span class="hljs-keyword">constructor</span> () {
   <span class="hljs-keyword">super</span>()
   <span class="hljs-keyword">this</span>.name = <span class="hljs-string">'randomNumber'</span>
   <span class="hljs-keyword">this</span>.description = <span class="hljs-string">'I am an API method which will generate a random number'</span>
   <span class="hljs-keyword">this</span>.outputExample = {<span class="hljs-attr">randomNumber</span>: <span class="hljs-number">0.1234</span>}
 }

 <span class="hljs-keyword">async</span> run (data) {
   data.response.randomNumber = <span class="hljs-built_in">Math</span>.random()
 }
}</code></pre>
				<ul>
					<li><strong>Tasks</strong><ul>
							<li>Tasks are now ES6 classes, which extend <code>require(&#39;actionhero&#39;).Task</code>.</li>
							<li>The <code>run</code> method only has one argument now, <code>data</code> and becomes a <code>async</code> method.  <code>api</code> can be required globally to your file.</li>
						</ul>
					</li>
				</ul>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> {api, Task} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'actionhero'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SendWelcomeMessage</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Task</span> </span>{
  <span class="hljs-keyword">constructor</span> () {
    <span class="hljs-keyword">super</span>()
    <span class="hljs-keyword">this</span>.name = <span class="hljs-string">'SendWelcomeEmail'</span>
    <span class="hljs-keyword">this</span>.description = <span class="hljs-string">'I send the welcome email to new users'</span>
    <span class="hljs-keyword">this</span>.frequency = <span class="hljs-number">0</span>
    <span class="hljs-keyword">this</span>.queue = <span class="hljs-string">'high'</span>
    <span class="hljs-keyword">this</span>.middleware = []
  }

  <span class="hljs-keyword">async</span> run (data) {
    <span class="hljs-keyword">await</span> api.sendWelcomeEamail({<span class="hljs-attr">address</span>: data.email})
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
  }
}</code></pre>
				<ul>
					<li><strong>Initializers</strong><ul>
							<li>Initializers are now ES6 classes, which extend <code>require(&#39;actionhero&#39;).Initializer</code>.</li>
							<li>The <code>initialize</code>, <code>start</code>, and <code>stop</code> methods now have no arguments and become a <code>async</code> methods.  <code>api</code> can be required globally to your file.</li>
						</ul>
					</li>
				</ul>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> {ActionHero, api} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'actionhero'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">StuffInit</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ActionHero</span>.<span class="hljs-title">Initializer</span> </span>{
  <span class="hljs-keyword">constructor</span> () {
    <span class="hljs-keyword">super</span>()
    <span class="hljs-keyword">this</span>.name = <span class="hljs-string">'StuffInit'</span>
    <span class="hljs-keyword">this</span>.loadPriority = <span class="hljs-number">1000</span>
    <span class="hljs-keyword">this</span>.startPriority = <span class="hljs-number">1000</span>
    <span class="hljs-keyword">this</span>.stopPriority = <span class="hljs-number">1000</span>
  }

  <span class="hljs-keyword">async</span> initialize () {
    api.StuffInit = {}
    api.StuffInit.doAThing = <span class="hljs-keyword">async</span> () =&gt; {}
    api.StuffInit.stopStuff = <span class="hljs-keyword">async</span> () =&gt; {}
    api.log(<span class="hljs-string">'I initialized'</span>, <span class="hljs-string">'debug'</span>, <span class="hljs-keyword">this</span>.name)
  }

  <span class="hljs-keyword">async</span> start () {
    <span class="hljs-keyword">await</span> api.StuffInit.startStuff()
    api.log(<span class="hljs-string">'I started'</span>, <span class="hljs-string">'debug'</span>, <span class="hljs-keyword">this</span>.name)
  }

  <span class="hljs-keyword">async</span> stop () {
    <span class="hljs-keyword">await</span> api.StuffInit.stopStuff()
    api.log(<span class="hljs-string">'I stopped'</span>, <span class="hljs-string">'debug'</span>, <span class="hljs-keyword">this</span>.name)
  }
}</code></pre>
				<ul>
					<li><strong>Servers</strong><ul>
							<li>Servers are now ES6 classes, which extend <code>require(&#39;actionhero&#39;).Server</code>.</li>
							<li>The <code>initialize</code>, <code>start</code>, and <code>stop</code> methods now have no arguments and become a <code>async</code> methods.  <code>api</code> can be required globally to your file.</li>
						</ul>
					</li>
				</ul>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> ActionHero = <span class="hljs-built_in">require</span>(<span class="hljs-string">'actionhero'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyServer</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ActionHero</span>.<span class="hljs-title">Server</span> </span>{
  <span class="hljs-keyword">constructor</span> () {
    <span class="hljs-keyword">super</span>()
    <span class="hljs-keyword">this</span>.type = <span class="hljs-string">'%%name%%'</span>

    <span class="hljs-keyword">this</span>.attributes = {
      <span class="hljs-attr">canChat</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">logConnections</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">logExits</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">sendWelcomeMessage</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">verbs</span>: []
    }
    <span class="hljs-comment">// this.config will be set to equal api.config.servers[this.type]</span>
  }

  initialize () {
    <span class="hljs-keyword">this</span>.on(<span class="hljs-string">'connection'</span>, (conection) =&gt; {

    })

    <span class="hljs-keyword">this</span>.on(<span class="hljs-string">'actionComplete'</span>, (data) =&gt; {

    })
  }

  start () {
    <span class="hljs-comment">// this.buildConnection (data)</span>
    <span class="hljs-comment">// this.processAction (connection)</span>
    <span class="hljs-comment">// this.processFile (connection)</span>
  }

  stop () {

  }

  sendMessage (connection, message, messageId) {

  }

  sendFile (connection, error, fileStream, mime, length, lastModified) {

  }

  goodbye (connection) {

  }
}</code></pre>
				<ul>
					<li><strong>CLI Commands</strong><ul>
							<li>CLI Commands are now ES6 classes, which extend <code>require(&#39;actionhero&#39;).CLI</code>.</li>
							<li>The <code>run</code> method now has one argument, <code>data</code> and becomes a <code>async</code> method.  <code>api</code> can be required globally to your file.</li>
						</ul>
					</li>
				</ul>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> {api, CLI} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'actionhero'</span>)

<span class="hljs-built_in">module</span>.exports = <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RedisKeys</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">CLI</span> </span>{
  <span class="hljs-keyword">constructor</span> () {
    <span class="hljs-keyword">super</span>()
    <span class="hljs-keyword">this</span>.name = <span class="hljs-string">'redis keys'</span>
    <span class="hljs-keyword">this</span>.description = <span class="hljs-string">'I list all the keys in redis'</span>
    <span class="hljs-keyword">this</span>.example = <span class="hljs-string">'actionhero keys --prefix actionhero'</span>
  }

  inputs () {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">prefix</span>: {
        <span class="hljs-attr">requried</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">default</span>: <span class="hljs-string">'actionhero'</span>,
        <span class="hljs-attr">note</span>: <span class="hljs-string">'the redis prefix for searching keys'</span>
      }
    }
  }

  <span class="hljs-keyword">async</span> run ({params}) =&gt; {
    <span class="hljs-keyword">let</span> keys = <span class="hljs-keyword">await</span> api.redis.clients.client.keys(params.prefix)
    api.log(<span class="hljs-string">'Found '</span> + keys.length + <span class="hljs-string">'keys:'</span>)
    keys.forEach(<span class="hljs-function">(<span class="hljs-params">k</span>) =&gt;</span> { api.log(k) })
  }
}</code></pre>
				<ul>
					<li><p><strong>Cache</strong></p>
						<ul>
							<li>All methods which used to return a callback are now <code>async</code> methods which, when <code>await</code>ed, return a result and <code>throw</code> errors</li>
						</ul>
					</li>
					<li><p><strong>Tasks</strong></p>
						<ul>
							<li>All methods which used to return a callback are now <code>async</code> methods which, when <code>await</code>ed, return a result and <code>throw</code> errors</li>
						</ul>
					</li>
					<li><p><strong>Chat</strong></p>
						<ul>
							<li>All methods which used to return a callback are now <code>async</code> methods which, when <code>await</code>ed, return a result and <code>throw</code> errors</li>
						</ul>
					</li>
					<li><p><strong>SpecHelper</strong></p>
						<ul>
							<li>All methods which used to return a callback are now <code>async</code> methods which, when <code>await</code>ed, return a result and <code>throw</code> errors</li>
						</ul>
					</li>
				</ul>
				<pre><code class="language-js"><span class="hljs-keyword">const</span> chai = <span class="hljs-built_in">require</span>(<span class="hljs-string">'chai'</span>)
<span class="hljs-keyword">const</span> dirtyChai = <span class="hljs-built_in">require</span>(<span class="hljs-string">'dirty-chai'</span>)
<span class="hljs-keyword">const</span> expect = chai.expect
chai.use(dirtyChai)

<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">'path'</span>)
<span class="hljs-keyword">const</span> ActionHero = <span class="hljs-built_in">require</span>(<span class="hljs-string">'actionhero'</span>)
<span class="hljs-keyword">const</span> actionhero = <span class="hljs-keyword">new</span> ActionHero.Process()
<span class="hljs-keyword">let</span> api

describe(<span class="hljs-string">'Action: RandomNumber'</span>, () =&gt; {
  before(<span class="hljs-keyword">async</span> () =&gt; { api = <span class="hljs-keyword">await</span> actionhero.start() })
  after(<span class="hljs-keyword">async</span> () =&gt; { <span class="hljs-keyword">await</span> actionhero.stop() })

  <span class="hljs-keyword">let</span> firstNumber = <span class="hljs-literal">null</span>
  it(<span class="hljs-string">'generates random numbers'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">let</span> {randomNumber} = <span class="hljs-keyword">await</span> api.specHelper.runAction(<span class="hljs-string">'randomNumber'</span>)
    expect(randomNumber).to.be.at.least(<span class="hljs-number">0</span>)
    expect(randomNumber).to.be.at.most(<span class="hljs-number">1</span>)
    firstNumber = randomNumber
  })

  it(<span class="hljs-string">'is unique / random'</span>, <span class="hljs-keyword">async</span> () =&gt; {
    <span class="hljs-keyword">let</span> {randomNumber} = <span class="hljs-keyword">await</span> api.specHelper.runAction(<span class="hljs-string">'randomNumber'</span>)
    expect(randomNumber).to.be.at.least(<span class="hljs-number">0</span>)
    expect(randomNumber).to.be.at.most(<span class="hljs-number">1</span>)
    expect(randomNumber).not.to.equal(firstNumber)
  })
})</code></pre>
				<ul>
					<li><p><strong>Utils</strong></p>
						<ul>
							<li><code>api.utils.recursiveDirectoryGlob</code> has been removed in favor of the <a href="https://github.com/isaacs/node-glob">glob package</a>. Use this instead.</li>
							<li>All methods which used to return a callback are now <code>async</code> methods which, when <code>await</code>ed, return a result and <code>throw</code> errors</li>
						</ul>
					</li>
					<li><p><strong>Plugins</strong></p>
						<ul>
							<li>ActionHero no longer uses linkfiles to find plugins.  If you have any in a <code>plugins</code> directory in your actions, tasks, config, or public folders, delete them.</li>
							<li>Plugins now need to be defined explicitly in a new <code>./config/plugins.js</code> config file.  You should create one <a href="https://github.com/actionhero/actionhero/blob/master/config/plugins.js">per the example</a></li>
							<li>Removed <code>actionhero link</code> and <code>actionhero unlink</code> per the above.</li>
							<li>Added <code>actionhero generate plugin</code>, a helper which you can use in an empty directory which will create a template plugin project</li>
							<li>Testing plugins is now simpler.  <a href="https://docs.actionherojs.com/tutorial-plugins.html">Read more about this on docs.actionherojs.com</a></li>
						</ul>
					</li>
					<li><p><strong>Clients</strong></p>
						<ul>
							<li><code>ActionheroClient</code> (the included client library for browser websocket clients) as been named a more clear <code>ActionheroWebsocketClient</code> to avoid ambiguity.</li>
							<li>The node sever-sever package has been renamed <code>actionhero-node-client</code> to help clear up any confusion.</li>
						</ul>
					</li>
				</ul>
				<a href="#upgrading-from-v16-to-v17" id="upgrading-from-v16-to-v17" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v16 to v17</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v17.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<ul>
					<li><p><strong>Localization (i18n)</strong></p>
					</li>
					<li><p>In <code>./config/i18n.js</code> be sure to enable <code>objectNotation</code>, or else the new locale file will be gibberish to ActionHero</p>
					</li>
					<li><p>As of this release, ActionHero no longer localizes its log messages. This is done to simplify and speed up the logger methods. There is not mitigation path here without overwriting the <code>api.log()</code> method.</p>
					</li>
					<li><p>Any use of <code>%</code> interpolation should be removed from your logger strings. Favor native JS string templates.</p>
					</li>
					<li><p>ActionHero now ships with locale files by default.</p>
					</li>
					<li><p>You will need to acquire the <a href="https://github.com/actionhero/actionhero/blob/master/locales/en.json">default locale file</a> and copy it into <code>./locales/en.json</code> within your project.</p>
					</li>
					<li><p>The error reporters have all been changed to use these new locale file and mustache-style syntax. Update your from the <a href="https://github.com/actionhero/actionhero/blob/master/config/errors.js">default errors file</a></p>
					</li>
					<li><p>The <code>welcomeMessage</code> and <code>goodbyeMessage</code> are removed from the config files and ActionHero now refrences the locale files for these strings. Update yours accodingly.</p>
					</li>
					<li><p><strong>utils</strong></p>
					</li>
					<li><p><code>api.utils.recursiveDirectoryGlob</code> has been removed in favor of the <a href="https://github.com/isaacs/node-glob">glob package</a>. Use this instead.</p>
					</li>
				</ul>
				<a href="#upgrading-from-v15-to-v16" id="upgrading-from-v15-to-v16" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v15 to v16</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v16.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<p>The only breaking changes are related to the capilization of internal methods:</p>
				<ul>
					<li><code>api.Connecton()</code> rather than <code>api.connection()</code></li>
					<li><code>api.GenericServer()</code> rather than <code>api.genericServer()</code></li>
					<li><code>api.ActionProcessor()</code> rather than <code>api.actionProcessor()</code></li>
					<li><code>require(&#39;actionhero&#39;)</code> not <code>require(&#39;actionhero&#39;).actionheroPrototype</code> should you be using ActionHero programatically.</li>
				</ul>
				<a href="#upgrading-from-v14-to-v15" id="upgrading-from-v14-to-v15" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v14 to v15</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v15.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<pre><code class="language-bash">\`actionhero generateAction --name=[name]\`      -&gt; \`actionhero generate action --name=[name]\`
\`actionhero generateInitializer --name=[name]\` -&gt; \`actionhero generate initializer --name=[name]\`
\`actionhero generateServer --name=[name]\`      -&gt; \`actionhero generate server --name=[name]\`
\`actionhero generateTask --name=[name]\`        -&gt; \`actionhero generate task --name=[name]\`</code></pre>
				<ul>
					<li>The ActionHero binary has had it&#39;s commands changed.<ul>
							<li>Any deployment or automation tools you use will need to be updated accordingly.</li>
						</ul>
					</li>
					<li>Tasks now use middleware instead of plugins.<ul>
							<li>You will need to convert all uses of task plugins to task middleware.</li>
						</ul>
					</li>
				</ul>
				<a href="#upgrading-from-v13-to-v14" id="upgrading-from-v13-to-v14" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v13 to v14</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v14.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<ul>
					<li>Redis Client Configurations have changed drastically. This allows for greater configuration, but at a complexity cost.<ul>
							<li>The easiest way to upgrade your <code>config/redis.js</code> is to take if from the <a href="https://github.com/actionhero/actionhero/blob/master/config/redis.js">master branch</a> directly and re-apply your configuration.</li>
							<li>Move <code>api.config.redis.channel</code> to <code>api.config.general.channel</code></li>
							<li>Move <code>api.config.redis. rpcTimeout</code> to <code>api.config.general.rpcTimeout</code></li>
							<li>Throughout the code, use <code>api.config.redis.client</code> rather than <code>api.redis.client</code></li>
						</ul>
					</li>
				</ul>
				<a href="#upgrading-from-v12-to-v13" id="upgrading-from-v12-to-v13" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v12 to v13</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v13.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<ul>
					<li>Pluggins<ul>
							<li><code>config/plugins.js</code> is removed. Delete yours.</li>
							<li>Use the new binary command, <code>actionhero link --name=NameOfPlugin</code> to link your plugins in the new method.</li>
							<li>Linking plugins will likley create new config files you may need to customize.</li>
						</ul>
					</li>
					<li>Locales<ul>
							<li>This release introduced Locales. You will need the new locale config file. The easiest way to upgrade your <code>config/i18n.js</code> is to take if from the <a href="https://github.com/actionhero/actionhero/blob/master/config/i18n.js">master branch</a>.</li>
							<li>Ensure that <code>api.config.i18n.updateFiles</code> is <code>true</code> so that your locale files can be generated for the first time.</li>
						</ul>
					</li>
					<li>Errors<ul>
							<li><code>config/errors.js</code> has been completely redone to take advantage of <code>connection.localize</code>. The easiest way to upgrade your <code>config/errors.js</code> is to take if from the <a href="https://github.com/actionhero/actionhero/blob/master/config/errors.js">master branch</a>.</li>
						</ul>
					</li>
					<li>Grunt Removed<ul>
							<li>Grunt is removed from the project. The old ActionHero grunt commands have been moved into the ActionHero binary.</li>
						</ul>
					</li>
					<li>Redis configuration<ul>
							<li><code>package</code> is a reserved keyword in JavaScript. We now use the key <code>pkg</code> in the redis config.</li>
						</ul>
					</li>
				</ul>
				<a href="#upgrading-from-v11-to-v12" id="upgrading-from-v11-to-v12" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v11 to v12</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v12.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<ul>
					<li>Redis configuration<ul>
							<li>Switch from using the <code>redis</code> npm pacakge to <code>ioredis</code>. Change this in your package.json.</li>
						</ul>
					</li>
					<li><code>ioredis</code> handles passwords slightly differently. Read the <a href="https://github.com/luin/ioredis">ioredis</a> documentation to learn more.</li>
					<li>Stats Removed<ul>
							<li>The <code>api.stats</code> subsection has been removed from actionhero</li>
							<li>If you need the stats subsection, you can get get it <a href="https://github.com/actionhero/ah-stats-plugin">via plugin</a></li>
						</ul>
					</li>
				</ul>
				<a href="#upgrading-from-v10-to-v11" id="upgrading-from-v10-to-v11" style="color: inherit; text-decoration: none;">
					<h2>Upgrading from v10 to v11</h2>
				</a>
				<p><strong>Full Release Notes: <a href="https://github.com/actionhero/actionhero/releases/tag/v11.0.0">GitHub</a></strong></p>
				<p><strong>Breaking Changes and How to Overcome Them:</strong></p>
				<ul>
					<li>Action Syntax changed<ul>
							<li><code>run: function(api, data, next){
  data.response.randomNumber = Math.random();
  next(error);
}</code></li>
							<li>Where data contains:</li>
							<li><code>data = {
   connection: connection,
   action: &#39;randomNumber&#39;,
   toProcess: true,
   toRender: true,
   messageId: 123,
   params: { action: &#39;randomNumber&#39;, apiVersion: 1 },
   actionStartTime: 123,
   response: {},
}</code></li>
							<li>You will need to change all of your actions to use <code>data.connection</code> rather than <code>connection</code> directly.</li>
							<li>You will need to change all of your actions to use <code>data.response</code> rather than <code>connection.response</code> directly.</li>
						</ul>
					</li>
					<li>Middleware syntax has changed to match action&#39;s <code>data</code> pattern. You will need to change your middleware accordingly.</li>
					<li>Removed <code>connection._originalConnection</code>.</li>
					<li>Websockets:<ul>
							<li>The params of websocket connections should NOT be sticky. All actions will start with <code>connection.params = {}</code>. If you rely on the old behavior, you will need to change your client code.</li>
						</ul>
					</li>
					<li>Action Processor:<ul>
							<li>Removed duplicate callback prevention in ActionProcessor. This belongs on the user/implementer to handle.</li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="../../globals.html"><em>Globals</em></a>
					</li>
					<li class="current ">
						<a href="../index.html">Tutorial index</a>
						<ul>
							<li class=" ">
								<a href="../core/index.html">Actionhero <wbr>Core <wbr>Features</a>
							</li>
							<li class=" ">
								<a href="../config-and-dev/index.html">Configuration and <wbr>Development</a>
							</li>
							<li class="current ">
								<a href="index.html">Advanced <wbr>Actionhero <wbr>Topics</a>
								<ul>
									<li class=" ">
										<a href="plugins.html">Plugins</a>
									</li>
									<li class=" ">
										<a href="cluster.html">Cluster</a>
									</li>
									<li class=" ">
										<a href="production-notes.html">Production <wbr>Notes</a>
									</li>
									<li class="current ">
										<a href="upgrade-path.html">Upgrade <wbr>Path</a>
									</li>
								</ul>
							</li>
						</ul>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
				<li class="tsd-kind-type-alias tsd-has-type-parameter"><span class="tsd-kind-icon">Type alias with type parameter</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="../../assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="../../assets/js/search.js"><' + '/script>');</script>
</body>
</html>